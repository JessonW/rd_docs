<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">

	<title>Q&A - AbleCloud 开发文档</title>

        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation" style="background:#00b5f1;border:0px solid transparent;height:50px;">
    <div class="container container-ac">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../introduction/"><img src="../img/logo.png" /><span style="margin-left:20px; margin-right:20px;">|</span>开发文档</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse" style="margin-left:293px;">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav nav-ac">
                
                
                    <li >
                        <a href="../introduction/" >基本介绍</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">功能说明 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../features/concepts/">基本概念</a>
</li>

                        
                            
<li >
    <a href="../features/functions/">功能介绍</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">开发指导 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../develop_guide/android/">客户端-安卓</a>
</li>

                        
                            
<li >
    <a href="../develop_guide/iOS/">客户端-iOS</a>
</li>

                        
                            
<li >
    <a href="../develop_guide/wechat/">客户端-微信</a>
</li>

                        
                            
<li >
    <a href="../develop_guide/device/">设备-嵌入式系统</a>
</li>

                        
                            
<li >
    <a href="../develop_guide/device_android/">设备-安卓系统</a>
</li>

                        
                            
<li >
    <a href="../develop_guide/cloud/">云端服务</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../reference/android/">客户端-安卓</a>
</li>

                        
                            
<li >
    <a href="../reference/iOS/">客户端-iOS</a>
</li>

                        
                            
<li >
    <a href="../reference/wechat/">客户端-微信</a>
</li>

                        
                            
<li >
    <a href="../reference/device/">设备-嵌入式系统</a>
</li>

                        
                            
<li >
    <a href="../reference/device_android/">设备-安卓系统</a>
</li>

                        
                            
<li >
    <a href="../reference/cloud/">云端服务</a>
</li>

                        
                            
<li >
    <a href="../reference/php/">PHP SDK</a>
</li>

                        
                            
<li >
    <a href="../reference/java/">Java SDK</a>
</li>

                        
                            
<li >
    <a href="../reference/error_code/">Error Code</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="active">
                        <a href="./" style="background:#00a0dc;">Q&A</a>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://docs.ablecloud.cn/1.0/introduction/" style="font-size:0.9em;">旧版文档</a></li>
            </ul>
        </div>

    </div>

</div>

        <div class="container container-ac">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        
        
        
        <li class="main active">
            <a href="#ablecloud">AbleCloud 常见问题解决方法</a>
        </li>
        
    
        
        
            
                
            
        
            
                
            
        
        
        <li class="main">
            <a href="#1-app">1. APP开发<span class="main-set parent_1-app">+</span></a>
        </li>
        
            
            <li class="sub parent_1-app" style="display: none;"><a href="#11-sdk">1.1   SDK配置</a></li>
            
        
            
            <li class="sub parent_1-app" style="display: none;"><a href="#12">1.2   基础框架</a></li>
            
        
    
        
        
            
                
            
        
            
                
            
        
        
        <li class="main">
            <a href="#2-uds">2. UDS、后台服务、云对接开发<span class="main-set parent_2-uds">+</span></a>
        </li>
        
            
            <li class="sub parent_2-uds" style="display: none;"><a href="#21">2.1   基础框架</a></li>
            
        
            
            <li class="sub parent_2-uds" style="display: none;"><a href="#22">2.2   消息推送</a></li>
            
        
    
        
        
            
                
            
        
            
                
            
        
        
        <li class="main">
            <a href="#3">3. 设备端开发<span class="main-set parent_3">+</span></a>
        </li>
        
            
            <li class="sub parent_3" style="display: none;"><a href="#31">3.1   联网模块</a></li>
            
        
            
            <li class="sub parent_3" style="display: none;"><a href="#32-mcu">3.2   MCU</a></li>
            
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="ablecloud">AbleCloud 常见问题解决方法</h1>
<h1 id="1-app">1. APP开发</h1>
<h2 id="11-sdk">1.1   SDK配置</h2>
<h3 id="111-androiduidtoken">1.1.1    Android端uid和token怎么获取与保存？</h3>
<pre><code class="java">PreferencesUtils.putLong(AC.context, ACConfiguration.KEY_USERID, uid); 

PreferencesUtils.putString(AC.context, ACConfiguration.KEY_TOKEN, token);
</code></pre>

<h3 id="112-iosuidtoken">1.1.2    iOS端uid和token怎么获取与保存？</h3>
<pre><code class="objectivec">@interface ACKeyChain : NSObject 
    /*** 保存用户ID ***/ 
    (void)saveUserId:(NSNumber *)userId;

    /*** 获取用户ID ***/
    (NSNumber *)getUserId; 

    /*** 删除当前用户的id ***/ 
    (void)removeUserId; 

    /*** 保存以后 Token ***/ 
    (void)saveToken:(NSString *)token; 

    /*** 获取用户 Token ***/ 
    (NSString *)getToken; 

    /*** 删除当前用户的token ***/ 
    (void)removeToken; 
</code></pre>

<h2 id="12">1.2   基础框架</h2>
<h3 id="121-app">1.2.1 APP提示签名失败是什么原因？</h3>
<ol>
<li>APP的本地时间不正确，导致签名超时，服务器是UTC时间。</li>
<li>用户未登录</li>
</ol>
<h3 id="123">1.2.3 推送失败可能的原因是什么？</h3>
<ol>
<li>在AbleCloud平台配置的IOS证书，一定要和APP中打包的一样，否则会导致推送成功，但是APP收不到消息。</li>
<li>请检查在AbleCloud平台配置的KEY是否和友盟申请的一致。</li>
<li>通过友盟平台以Alias的方式推送APP能收到，但通过AbleCloud推送APP不能收到，请判断一下Alias是否和AbleCloud的UID相同。</li>
<li>IOS开发期间只能通过开发证书测试，切勿用生产证书的AD-HOC模式测试。</li>
<li>有问题可以通过查看inform和router模块的日志进一步查询问题。</li>
<li>4003 iOS推送错误，没有有效的iOS设备。</li>
</ol>
<p>意思是没有找到与UID对应的设备，可能的原因如下：
<em> a.这个UID无效
</em> b.设备对应的证书有问题
<em> c.友盟上传的证书有问题
</em> d.AbleCloud配置的KEY存在问题。</p>
<h1 id="2-uds">2. UDS、后台服务、云对接开发</h1>
<h2 id="21">2.1   基础框架</h2>
<h3 id="211-udsdockerlog">2.1.1    UDS重启崩溃，如何查看docker中的LOG。</h3>
<p>在任意路径下输入docker ps –a（目前测试环境有3台机器，UDS随机运行在其中一台，需要一台台看，UDS具体运行在哪一台），出现下图LOG</p>
<p><img alt="log1" src="../pic/QandA/log1.png" /></p>
<p>第一个红框为容器的ID，需要进入容器中才能看到UDS运行的LOG。</p>
<p>第二个红框为退出的时间，只能查看在10秒以内退出容器LOG，超过10秒容器自动销毁，所以输入速度一定要很快。如果发现退出时间已经超过4秒了，那么基本可以放弃查询，继续运行docker ps –a命令，直到找到退出时间在3秒以内的记录。</p>
<p>第三个红框中的209为domainID，217为subdomainID。</p>
<p>接着输入命令：docker logs 18f3c3599d7e（这条指令需要在8秒内执行完，因为第二个红框显示已经在2秒前退出了）</p>
<p>18f3c3599d7e就是第一个红框的容器ID。下图为查询到的LOG。</p>
<p><img alt="log2" src="../pic/QandA/log2.png" /></p>
<p>docker inspect 18f3c3599d7e（容器ID），这条命令是查看UDS所在容器的一些启动参数，最后面是UDS的存储路径和控制台显示的LOG的路径。</p>
<h2 id="22">2.2   消息推送</h2>
<h3 id="221">2.2.1    多国语言推送实现</h3>
<p>需求：用户在不同地区（国家）使用时，推送能够按照用户手机配置的语言来显示内容。</p>
<p>实现方案：</p>
<ul>
<li>
<p>iOS系统：提供loc-key/loc-args参数来实现多语言消息模版功能</p>
<p>基本原理：app本身知道当前手机设置的语言类型，app接收到推送后，根据在app中内置的模版变量来显示对应的内容</p>
<p>限制：因苹果apns提供来多语言方案，ios推送消息不支持app接收到消息进行解析后再显示，而是将接收到的消息直接显示。</p>
</li>
<li>
<p>安卓系统：没有限制，loc-key放到userData自定义字段中即可，目前实现成类似ios的方案，在app中内置变量模版</p>
</li>
<li>
<p>uds接口： 在Notification结构中增加setLocKey和putLocArgs方法，设置模版变量</p>
</li>
<li>
<p>后台接口：之前实现的ios推送限制了只能发送content内容，现增加支持loc-key/loc-args参数的json结构，发送给友盟推送。</p>
</li>
</ul>
<h3 id="222">2.2.2    推送流程</h3>
<ol>
<li>在友盟平台添加应用，然后获得相应的KEY</li>
<li>通过友盟平台进行推送测试，查看APP能否收到。</li>
<li>然后在AbleCloud平台进行配置，之后在通过友盟平台用Alias的方式推送测试。</li>
<li>上述步骤通过，接着可以在AbleCloud平台进行推送测试。</li>
</ol>
<h1 id="3">3. 设备端开发</h1>
<h2 id="31">3.1   联网模块</h2>
<h4 id="311-ablecloudwifi">3.1.1 AbleCloud支持的WiFi模块有哪些？</h4>
<p>对于市面上常见的WiFi模块，AbleCloud都进行了适配，已经完成适配的WiFi模块见下表：</p>
<table>
<thead>
<tr>
<th>合作厂商</th>
<th>模块型号</th>
<th>WIFI芯片</th>
<th>AirKiss</th>
</tr>
</thead>
<tbody>
<tr>
<td>汉枫</td>
<td>LPB100</td>
<td>MTK</td>
<td>支持</td>
</tr>
<tr>
<td></td>
<td>LPB200</td>
<td>Marvell</td>
<td>支持</td>
</tr>
<tr>
<td></td>
<td>LPT100</td>
<td>MTK</td>
<td>支持</td>
</tr>
<tr>
<td></td>
<td>LPT200</td>
<td>MTK</td>
<td>支持</td>
</tr>
<tr>
<td>庆科</td>
<td>EMW3162</td>
<td>broadcom</td>
<td>支持</td>
</tr>
<tr>
<td></td>
<td>EMW3165</td>
<td>broadcom</td>
<td>支持</td>
</tr>
<tr>
<td></td>
<td>EMW3088</td>
<td>Marvell</td>
<td>支持</td>
</tr>
<tr>
<td></td>
<td>EMW1088</td>
<td>Marvell</td>
<td>支持</td>
</tr>
<tr>
<td>江波龙</td>
<td>WK1230</td>
<td>QCA4004</td>
<td>支持</td>
</tr>
<tr>
<td></td>
<td>GT1216</td>
<td>QCA4004</td>
<td>支持</td>
</tr>
<tr>
<td></td>
<td>GT141</td>
<td>QCA4004</td>
<td>支持</td>
</tr>
<tr>
<td></td>
<td>WK1221</td>
<td>QCA4004</td>
<td>支持</td>
</tr>
<tr>
<td>思存</td>
<td>ITM-IOE01</td>
<td>QCA4004</td>
<td>支持</td>
</tr>
<tr>
<td></td>
<td>ITM-IOE20</td>
<td>QCA4004</td>
<td>支持</td>
</tr>
<tr>
<td>航锐</td>
<td>HR WF411</td>
<td>QCA4004</td>
<td>不支持</td>
</tr>
<tr>
<td></td>
<td>HR WF422</td>
<td>QCA4004</td>
<td>不支持</td>
</tr>
<tr>
<td>Marvel</td>
<td></td>
<td>Marvel-88MC500</td>
<td>不支持</td>
</tr>
<tr>
<td>联盛德</td>
<td></td>
<td>HED10W07SN</td>
<td>支持</td>
</tr>
<tr>
<td>卓立合</td>
<td>LH781</td>
<td>MTK7681</td>
<td>不支持</td>
</tr>
<tr>
<td>新岸线</td>
<td></td>
<td>NL6621</td>
<td>不支持</td>
</tr>
<tr>
<td>Realtek</td>
<td></td>
<td>RTL8711</td>
<td>支持</td>
</tr>
<tr>
<td>村田</td>
<td>MIDK</td>
<td>QCA4002</td>
<td>不支持</td>
</tr>
<tr>
<td>TI</td>
<td>cc3200</td>
<td>cc3200</td>
<td>不支持</td>
</tr>
<tr>
<td>乐鑫</td>
<td>esp8266</td>
<td>esp8266</td>
<td>支持</td>
</tr>
</tbody>
</table>
<h4 id="312-wifi">3.1.2   定位wifi不同问题的一般步骤</h4>
<ol>
<li>一台和设备链接到的同一个路由器的PC机，进入控制台，ping一下www.ablecloud.cn，如果不行的话，就是表明网络有问题。</li>
<li>登录路由器后台，看一下对应设备是否已经接入路由器上，并且ping 一下对应IP地址，ping xxx -t，运行一段时间，看看有没有掉线情况。表明模块链接路由器不稳定，需要检查路由器配置。</li>
<li>下载并打开wireshark软件，选择连接到路由器的网卡启动抓包，在Filter上输入udp.port==7689，然后重启设备。等待一段时间，看看是否有抓到对应的报文。如果没有的话，表明是没有连上云端。</li>
</ol>
<h2 id="32-mcu">3.2   MCU</h2>
<h3 id="321">3.2.1    设备接入云端的流程</h3>
<ol>
<li>设备向redirect申请gateway接入点信息，申请成功后，redirect记录设备的接入点，设备使用该接入点接入gateway。设备不是每次都请求redirect，当请求一次之后，设备会保存得到的gateway节点，下次就直接通过这个节点连接云端了，然后进行四次握手流程。可以参考联网模块代码中的PCT_Run函数，进一步理解设备连接云的过程。</li>
<li>设备与gateway进行四次握手，在握手过程中，向gateway提供其domain, subDomain, deviceId, MCU版本信息，wifi版本信息以及之后通信的AES密钥，如果设备使用加密通信的话。</li>
<li>设备完成和云端的四次握手后，正是接入gateway，在用户绑定次设备之后，可以对设备进行控制，设备也可以主动上报。如果设备没有被绑定，主动上报是会报错的。</li>
</ol>
<p><strong>期间可能出现错误有：</strong></p>
<p>（1）握手失败</p>
<p><code>read handShake_(1/3) failed:err[read tcp 222.131.152.125:4481: connection reset by peer]</code></p>
<p>这个问题的原因是设备端wifi的问题，设备端主动断开与云端建立的TCP链路，一般设备侧发生在初期。</p>
<p><code>[266:530:0000C893465004F1 handShake] device not valid: dest[222.131.152.125:4481]</code></p>
<p>这个问题的原因是设备端采用加密通信，云端获取设备的公钥失败，失败的原因可能是设备没有入库（统一入库/批量入库）。</p>
<p>（2）设备信息加入管理列表失败</p>
<p><code>[83:85:02860000000085A7] insert the device connection failed:addr[112.17.236.115:51230], err[entry exist]</code></p>
<p><code>[83:85:02860000000085A7] force kill the old device connection:addr[112.17.236.115:51226]</code></p>
<p>这个问题的原因是设备端异常断开（一般开发者采用断电的方式），云端不能立即检测到设备已经断开连接，这样设备管理列表中仍然有该设备的记录（云端检测到设备断开后，会将设备信息从管理列表中删除），当设备再次接入时，因为管理列表中有设备的信息，产生冲突。云端的策略是删除原来的记录，将新的设备信息加入队列。</p>
<h3 id="322">3.2.2    设备不能接入云端怎么处理</h3>
<p>通过查询gateway模块的LOG，看下设备处于第几次握手失败，如果没有成功建立四次握手，需要同步查看设备的串口LOG，看下为什么握手失败。
设备不能接入云端有以下几种情况：</p>
<ol>
<li>设备物理的ID重复。一个domain下的设备物理ID不能重复，如果使用相同的物理ID但是subDomain不同，云端会认为设备信息有无，拒绝接入。</li>
<li>如果设备采用加密通信，可能是设备密钥不匹配或者设备没有入库，云端不清楚设备的公钥，无法加密。</li>
<li>网络原因.请确保网络稳定可靠。</li>
<li>需要检查连接的是正式环境还是测试环境。</li>
</ol>
<h3 id="323">3.2.3    设备的控制流程</h3>
<p><strong>Step1</strong>
App/UDS 向设备发送【control】请求，其中携带了messageCode和消息内容，控制指令和响应指令的消息号必须大于64且小于200。</p>
<p><strong>Step2</strong>
Gateway 查询设备是否在线，如果不在线，直接回复error，如果在线，则透传消息给设备。</p>
<p><strong>Step3</strong>
Gateway根据请求中携带的messageCode组建一个message，如果请求中还携带sub device的信息（domain, subDomain, devieId），那么message中需要有opt项。否则就没有opt项。</p>
<p><strong>Step4</strong>
Gateway顺序产生一个msgId(0~255)，对于同一个设备，control消息的msgId顺序增加。只有当gateway接收到前一个消息的empty消息，才会发送下一个消息。Empty消息有超时机制，当empty超时后，gateway认为当前链路不可靠，主动断开与设备的连接。</p>
<p><strong>Step 5</strong>
Control消息的响应到达gateway后，gateway需要匹配响应消息中的msgId与请求中的msgId是否一致，如果不一致，则报错。请求的响应消息超时也会报错。
期间可能出现错误有：</p>
<p>（1）设备不在线</p>
<p><code>the device not online:global[83:85:02860000000085A7]</code></p>
<p>（2）控制请求的响应超时</p>
<p><code>request timeout and not find the old request msgId:globalId[18:274:0001999999999262], mid[81]</code></p>
<p><code>[83:85:028600000000850B]wait the current response failed:code[203], mid[5], timeout[5000000000], err[device response timeout]</code></p>
<p><code>[83:85:02860000000085A7 control]request deivce failed:reqCode[68], err[device response timeout]</code></p>
<p>（3）设备已经接收到了控制请求，但是控制指令执行失败（具体原因需要设备侧查看），所以主动返回error。</p>
<p><code>[345:352:0000000000000004]check device result response failed: code[16], timeout[5000000000]</code></p>
<p><code>[262:431:1111111111111111 control]request deivce failed:reqCode[80], err[invalid result]</code></p>
<h3 id="324">3.2.4    设备的上报流程</h3>
<p>设备主动上报，gateway根据其domain,subDomain,deviceId向设备管理系统请求设备逻辑ID，如果请求失败，则认为当前设备未绑定，直接丢弃消息。
如果获得设备逻辑ID，那么将消息负载以payload的形式向router发送，由router提交给UDS处理。其中上报的消息号必须大于等于200。
期间可能出现错误有：</p>
<p><code>[526:531:00007CC70924C96E device report] get device logical id failed:globalId[526:531:00007CC70924C96E], err[device not exist]</code></p>
<p>这个问题是因为设备没有被绑定，因此获取设备的逻辑ID失败</p>
<p><code>[304:327:000008D833F57741 device report]send report to router failed:code[204], globalId[304:327:000008D833F57741], err[Post http://10.136.0.58:5000/X-Zc-Device-Report/v1/deviceReport?deviceId=81&amp;messageCode=204&amp;physicalDeviceId=000008D833F57741&amp;protocol=other: net/http: timeout awaiting response headers]</code></p>
<p>设备上报由gateway先发送到router，由router反向代理发送到对应的UDS，具体的错误由UDS日志辅助定位</p>
<p><code>[83:85:028600000000850B device report]send report to router failed:code[203], globalId[83:85:028600000000850B], err[wrong resp payload format]</code></p>
<p>这个问题一般是UDS处理请求遇到了异常。</p>
<h3 id="325-ota">3.2.5    设备OTA流程</h3>
<p><strong>Step1</strong></p>
<p>Ota-scheduler向gateway请求OTA任务列表，gateway将当前设备的版本与发布版本进行对比，只要版本不一致，就认为需要升级。</p>
<p><strong>Step2</strong></p>
<p>Ota-scheduler向gateway请求startOTA，gateway开始设备OTA升级，升级过程中出现错误，中断升级流程。等待下次OTA升级调度。</p>
<h3 id="326">3.2.6    控制设备失败怎么处理</h3>
<p>通过查询gateway模块的LOG，看下控制的流程是不是正确。</p>
<p>控制设备失败可能的原因有：</p>
<ol>
<li>控制频率太高，设备响应不及时导致请求超时。设备能力有限，如果控制频率较高时可能会出现设备响应不及时的问题。</li>
<li>设备MCU异常导致设备无法响应控制请求命令。</li>
<li>设备Wifi模块与MCU之间通信异常。</li>
<li>设备不在线。</li>
<li>设备已经被管理解绑，分享设备的用户与设备的绑定关系自动解除，没有权限控制设备。</li>
<li>控制设备的message code的范围是64~200，云端会检查message code，不符合要求的请求消息会返回错误，开发者可以根据返回的错误信息及时发现问题。</li>
</ol>
<h3 id="327">3.2.7    为什么用户会绑定设备失败</h3>
<p>通过查询bind模块的LOG，分析具体的问题。</p>
<p>用户不能绑定设备的原因有以下几种可能：</p>
<ol>
<li>设备不在线，设备绑定时要求设备必须在线.</li>
<li>设备被其他用户绑定过了，云端不允许多人绑定同一个设备，用户可通过分享的方式获得对设备的控制权。</li>
<li>绑定过程中云端与设备交换token时，设备未响应导致绑定失败。</li>
<li>设备的domain和subdomain信息有误。</li>
<li>电源供电是否正常，建议更换电源。</li>
<li>确保设备的天线正常。</li>
<li>确保网络环境不是公共环境。</li>
<li>绑定过程中云端与设备交换token时，设备未响应导致绑定失败。</li>
</ol>
<h3 id="328">3.2.8    设备无法激活</h3>
<ol>
<li>确认WIFI密码是否输入正确。</li>
<li>确认路由器的广播功能有没有被禁用。</li>
<li>domain信息是否正确。</li>
<li>设备的秘钥可能存在问题。</li>
</ol>
<h3 id="329">3.2.9    无法添加子设备</h3>
<ol>
<li>网关可能掉线。</li>
<li>子设备已经被其他人绑定。</li>
<li>子设备subdomain填写错误。 </li>
<li>子设备和网关的连接断开了。</li>
</ol>
<h3 id="3210">3.2.10   为什么用户会解绑设备失败</h3>
<p>用户解绑设备失败可能的原因有：
1. 设备已经被管理员解绑了，提示用户要解绑的设备不存在。
2. 设备自己强制解除与所有用户的绑定关系（应用场景：恢复出厂设置，或者设备变更拥有者），导致原绑定的用户不能解绑成功。
3. 网络原因设备已经解绑成功，但是APP解绑请求超时，用户认为解绑失败，重复发起解绑操作。</p>
<h3 id="3211">3.2.11   为什么设备上报失败</h3>
<ol>
<li>设备没有被用户绑定。</li>
<li>设备与云端断开连接。</li>
<li>MCU和联网模块之间连接是否正常。</li>
</ol></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <div class="clear footer">
                &copy;2015&nbsp;&nbsp;北京智云奇点科技有限公司&nbsp;&nbsp;<a href="http://www.miit.gov.cn/" target="_blank">京ICP备14010946号-1</a>
            </div>
        </footer>

        <script type="text/javascript" src="../js/jquery-1.10.2.min.js"></script>
        <script type="text/javascript" src="../js/bootstrap.min.js"></script>
        <script type="text/javascript" src="../js/highlight.pack.js"></script>
        <script type="text/javascript" src="../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
